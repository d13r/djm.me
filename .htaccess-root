#
# .htaccess in the document root is symlinked to this file so that I can keep
# it in Git without needing to fork the YOURLS Git repo.
#
RewriteEngine On

# Landing page
RewriteRule ^$                                  /user/plugins/djm.me/410.php    [L]
RewriteRule ^user/plugins/djm\.me/410\.php$     -                               [L]

# Disable the YOURLS default favicon
RewriteRule ^favicon\.ico$                      /user/plugins/djm.me/404.php    [L]
RewriteRule ^user/plugins/djm\.me/404\.php$     -                               [L]

# YOURLS - But prevent access to README, etc.
RewriteCond %{REQUEST_FILENAME}                 -f                              [OR]
RewriteCond %{REQUEST_FILENAME}                 -d
RewriteRule ^(admin|css|images|js)/             -                               [L]

RewriteRule ^readme\.html                       https://yourls.org/readme.html  [R=302,L]
RewriteRule ^yourls-api\.php                    -                               [L]
RewriteRule ^yourls-loader\.php                 -                               [L]
RewriteRule ^                                   /yourls-loader.php              [L]

# This file can't be named .htaccess because then it would be executed for this
# directory as well as the root directory, which breaks some of the rules below.
#
# vim:ft=apache
